---
import { testimonials, companyLogos } from '../../lib/constants/testimonials';
import Card from '../common/Card.astro';
// import CompanyLogo from '../common/CompanyLogo.astro';
---

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/css/splide.min.css">

<hr class="h-px my-8 bg-gray-200 border-0 dark:bg-gray-700" />
<section class="py-20 bg-gradient-to-b from-gray to-gray-50">
  <!-- Logos Carousel -->
  <div class="container w-4/5 py-16 mx-auto px-4 pt-16 mb-16 text-center">
    <!-- <div class="mb-16">
      <div class="swiper-logos swiper">
        <div class="swiper-wrapper items-center">
          {companyLogos.map((logo) => <CompanyLogo logo={logo} />)}
        </div>
      </div>
    </div> -->
    <p class="text-xl font-light text-gray-600 uppercase tracking-wider mb-4">
      Experiencias IA Punto
    </p>

    <h2 class="text-4xl md:text-5xl font-bold mb-16">
      Testimonios que Inspiran Confianza
    </h2>

    <!-- Splide slider -->
    <div id="testimonials-splide" class="splide w-full max-w-5xl mx-auto">
      <div class="splide__track">
        <ul class="splide__list">
          {testimonials.map((testimonial) => (
            <li class="splide__slide">
              <Card
                variant="testimonial"
                image={testimonial.image}
                imageType={testimonial.imageType}
                quote={testimonial.quote}
                author={testimonial.author}
                company={testimonial.company}
                position={testimonial.position}
              />
            </li>
          ))}
        </ul>
      </div>
    </div>
  </div>
</section>
<hr class="h-px my-8 bg-gray-200 border-0 dark:bg-gray-700" />

<!-- Splide JS desde CDN -->
<script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@4.1.4/dist/js/splide.min.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    new Splide('#testimonials-splide', {
      type: 'loop',
      perPage: 1,
      autoplay: true,
      interval: 5000,
      arrows: false,
      pagination: true,
      pauseOnHover: true,
      pauseOnFocus: true,
      speed: 600,
      classes: {
        arrows: 'splide__arrows flex justify-center gap-4 mt-4',
        arrow: 'splide__arrow bg-primary-600 text-white rounded-full w-10 h-10 flex items-center justify-center',
        pagination: 'splide__pagination flex justify-center gap-2 mt-6',
        page: 'splide__pagination__page bg-gray-300 rounded-full w-3 h-3',
      },
    }).mount();
  });
</script>

<style>
  :root {
    --swiper-pagination-color: var(--primary-accent);
    --swiper-pagination-bullet-size: 10px;
    --swiper-pagination-bullet-inactive-color: #7e8083;
  }

  .swiper-logos .swiper-slide {
    opacity: 0.6;
    transition: opacity 0.3s ease;
  }

  .swiper-logos .swiper-slide:hover {
    opacity: 1;
  }

  .swiper {
    width: 100%;
    /* overflow: hidden; */
  }

  .swiper-slide {
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .swiper-pagination {
    margin-bottom: 1rem !important; /* Ajusta este valor seg√∫n necesites */
  }

  .splide__slide {
    display: flex;
    justify-content: center;
  }
  .splide__arrows, .splide__arrow { display: none !important; }
  .splide__pagination__page.is-active {
    background: #e51f52;
  }
</style>
