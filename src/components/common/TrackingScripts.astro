---
// src/components/common/TrackingScripts.astro
---

<!-- Google Tag Manager - DEBE CARGARSE PRIMERO -->
<script is:inline>
  (function (w, d, s, l, i) {
    w[l] = w[l] || [];
    w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });
    var f = d.getElementsByTagName(s)[0],
      j = d.createElement(s),
      dl = l != 'dataLayer' ? '&l=' + l : '';
    j.async = true;
    j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
    f.parentNode.insertBefore(j, f);
  })(window, document, 'script', 'dataLayer', 'GTM-PJS922TG');
</script>

<!-- Google tag (gtag.js) - C贸digo oficial de Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-11203509179"
></script>
<script is:inline>
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());

  gtag('config', 'AW-11203509179');
</script>

<!-- Ahrefs Analytics - Solo se carga si el usuario acepta analytics -->
<script
  type="text/plain"
  data-category="analytics"
  data-service="ahrefs_analytics"
  src="https://analytics.ahrefs.com/analytics.js"
  data-key="a0hA4hkZX8imqqmH+rlnzg"
  async></script>

<!-- Meta tag de verificaci贸n de Google (siempre presente) -->
<meta
  name="google-site-verification"
  content="qnPb_gMHPQfk3Sl0ByOYJ6B2hd0ynlca67Bg4WV3OoY"
/>

<!-- Meta Pixel - Solo se carga si el usuario acepta marketing -->
<script
  type="text/plain"
  data-category="marketing"
  data-service="meta_pixel"
  src="/scripts/meta-pixel.js"
  is:inline></script>

<!-- Meta Pixel Direct - Carga directa para testing -->
<script src="/scripts/meta-pixel-direct.js" is:inline></script>

<!-- Meta Pixel Debug Script - Solo para desarrollo -->
<script src="/scripts/meta-pixel-debug.js" is:inline></script>

<!-- Google Tag Manager Debug Script - Solo para desarrollo -->
<script src="/scripts/gtm-debug.js" is:inline></script>

<!-- Script de verificaci贸n - Solo para desarrollo -->
<script src="/scripts/verification.js" is:inline></script>

<!-- Script de gesti贸n de invitados para Google Calendar -->
<script src="/scripts/attendees-manager.js" is:inline></script>
